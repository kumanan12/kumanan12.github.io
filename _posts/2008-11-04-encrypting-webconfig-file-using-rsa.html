---
layout: post
title: Encrypting Connection Strings using RSA
date: '2008-11-04T09:08:00.003-05:00'
author: Kumanan Murugesan
tags: 
modified_time: '2008-11-04T09:32:04.645-05:00'
blogger_id: tag:blogger.com,1999:blog-10683664.post-6114788068259871547
blogger_orig_url: http://kumanan-gis.blogspot.com/2008/11/encrypting-webconfig-file-using-rsa.html
---

<span xmlns="">ASP.NET has built-in tool to encrypt sections of the config file. The tool that is used to encrypt sections of the web.config file is ASPNET_REGIIS.EXE . It can be found in<br />%WinDir%\Microsoft.NET\Framework\v2.0.50727<br /><br />The following are some of the sections that can be encrypted.<br /><appsettings><connectionstrings><identity><sessionstate></sessionstate></identity></connectionstrings></appsettings></span><br /><ul type="disc"><li><<b>appSettings</b>><b>.</b> This section contains custom application settings.</li><li><<b>connectionStrings</b>><b>. </b>This section contains connection strings.</li><li><<b>identity</b>><b>.</b> This section can contain impersonation credentials.</li><li><<b>sessionState</b>><b>.</b> This section contains the connection string for the out-of-process session state provider.</li></ul><span xmlns=""><appsettings><connectionstrings><identity><sessionstate><br />The following are some of the sections that cannot be encrypted.<br /></sessionstate></identity></connectionstrings></appsettings></span><ul type="disc"><li><<b>processModel</b>></li><li><<b>runtime</b>></li><li><<b>mscorlib</b>></li><li><<b>startup</b>></li><li><<b>system.runtime.remoting</b>></li><li><<b>configProtectedData</b>></li><li><<b>satelliteassemblies</b>></li><li><<b>cryptographySettings</b>></li><li><<b>cryptoNameMapping</b>></li><li><<b>cryptoClasses</b>></li></ul><br /><span xmlns=""><appsettings><connectionstrings><identity><sessionstate><br />There are two providers available in the .NET Framework to encrypt. They are<br /><br />  ○ DataProtectionConfigurationProvider<br />  ○ RSAProtectedConfigurationProvider( The default provider )<br /><br />There are two containers used to encrypt. They are<br /><br />  ○ Machine level container<br />  ○ User level container<br /><br />Machine level container will be available for all users and User level key containers will be available for that user only.<br /><br />In this post, the objective is to encrypt the connectionStrings section of the web.config file.<br /><br />There are two options to encrypt<br /><br />  ○ Virtual Directory<br />  ○ File System<br /><br />Assuming the virtual directory name is "MachineRSA" and it is located in</sessionstate></identity></connectionstrings></appsettings></span><span xmlns=""> C:\Projects\MachineRSA</span><br /><span xmlns=""><appsettings><connectionstrings><identity><sessionstate><br />The command to encrypt the virtual directory is<br /><br />aspnet_regiis -pe "connectionStrings" -app "/MachineRSA"<br /><br />Pasted from <http: com="" us="" library="" aspx=""><br /><br />The command to encrypt the file system is<br /><br />aspnet_regiis.exe -pef "connectionStrings" C:\Projects\MachineRSA<br /><br />Pasted from <http: com="" us="" library="" aspx=""><br /><br />The -pe switch specifies the configuration section to encrypt.<br /><br />The -pef switch specifies the configuration section to encrypt and allows you to supply the physical directory path for your configuration file.<br /><br /></http:></http:></sessionstate></identity></connectionstrings></appsettings></span>